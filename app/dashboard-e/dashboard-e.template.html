<div id="wrapper">

  <!-- Navigation -->
  <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <a class="navbar-brand" href="#/">PCexploRe</a>
    </div>
    <!-- Top Menu Items -->
    <ul class="nav navbar-right top-nav">
      <li>
        <a>
          <i class="fa fa-user"></i>
          {{vm.user.name}}</a>
      </li>
      <li>
        <a ng-click="vm.logout()" ng-if="vm.isLogged">
          <i class="fa fa-sign-out"></i>
        </a>
      </li>

    </ul>
    <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
    <div class="collapse navbar-collapse navbar-ex1-collapse " >

      <ul class="nav navbar-nav side-nav">
        <div class="displaySearcher">
          <input type="search" ng-model="vm.query"/>
        </div>
        <li ng-repeat="fun in vm.functions | filter : vm.query" ng-click="null">
          <a ng-click="vm.openDalog($event, fun)">{{fun.name}}
          </a>
          <div class="text-left pads">
            <a ng-click="vm.showDetailView(true, fun)">
              <i class="fa fa-arrow-circle-o-left"></i>
              description
            </a>
          </div>
          <md-divider/>
        </li>
        <!-- <md-content>
                  <md-list flex>
                    <md-list-item class="male" ng-repeat="fun in vm.functions | filter : vm.query" ng-click="null">
                      <!-- <md-button class="md-raised" ng-click="vm.openDalog($event, fun)"> -->
        <!-- <div flex layout="row" layout-align="space-between center">
                        <div flex="75">
                          <md-button class="he" ng-click="vm.openDalog($event, fun)" flex="90">
                            <div class="md-list-item-text przycisk" layout="column">
                              <h4 style="font-family: 'Fjalla One', sans-serif; font-size: 15px;">{{fun.name}}</h4>
                            </div>
                          </md-button>
                        </div>
                        <div style="min-width:50px">
                          <md-button class="md-raised" ng-click="vm.showDetailView(true, fun)" style="min-width:50px;margin-bottom:15px;margin-top:5px;font-size:14px;">
                            details
                          </md-button>
                        </div>
                      </div>
                      <md-divider/>

                    </md-list-item>
                  </md-list>
                  </md-content>  -->

      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </nav>

  <div id="page-wrapper">
    <div class="container-fluid">

      <div class="row">
        <div class="col-md-4">
          <header class="jumbotron hero-spacer" ng-if="!vm.showFunction && !vm.showVector && !vm.showMatrix && !vm.functionDetailsView">
            Search functions
            <br/>
            Read about them
            <br/>
            Check your variables
            <br/>
            <small>
              just...
              <br/>
            </small>

            <br/>
            <big>
              ExploRe PC
            </big>
          </header>
          <header class="jumbotron hero-spacer" ng-if="vm.functionDetailsView">
            <p style="font-size: x-large;" align="center">{{vm.currentFunction.title}}</p>
            <div layout="row" flex>
              <p style="min-width: 100px;">description:</p>
              <p style="font-size: larger;">
                {{vm.currentFunction.description}}</p>
            </div>
            <div layout="row" flex>
              <p style="min-width: 100px;">return:</p>
              <p style="font-size: larger;">
                {{vm.currentFunction.return}}</p>
            </div>

            <md-content>
              <md-list flex>
                <md-list-item class="md-3-line" ng-repeat="arg in vm.currentFunction.params">
                  <!-- <md-button class="md-raised" ng-click="vm.openDalog($event, fun)"> -->
                  <div class="">
                    <h4 style="font-size:20px">name:
                      {{arg.constantName}}</h4>
                    <p>desc:
                      {{arg.desc}}</p>
                    <p>type:
                      {{arg.type}}</p>

                  </div>
                </md-list-item>
              </md-list>
            </md-content>
            <md-button class="md-raised small-button" ng-click="vm.showDetailView(false, {})">
              back
            </md-button>

          </header>
          <header class="jumbotron hero-spacer" ng-if="vm.showMatrix">
            <div>
              <h3>{{vm.matrixToShow.name}}</h3>
            </div>
            <div class="napisDia">
              <div align="center">
                <table class="matrix">
                  <tr ng-repeat="row in vm.matrixToShow.values track by $index">
                    <td ng-repeat="cell in row track by $index">{{cell}}</td>
                  </tr>
                </table>
              </div>
            </div>
            <br/>
            <br/>
          </header>
          <header class="jumbotron hero-spacer" ng-if="vm.showVector">
            <div>
              <h3>{{vm.vectorToShow.name}}</h3>
            </div>

            <div class="napisDia">

              <div align="center">
                <table class="matrix">
                  <tr ng-repeat="row in vm.vectorToShow.values track by $index">
                    <td>{{row}}</td>
                  </tr>
                </table>
              </div>
            </div>
            <br/>
            <br/>
          </header>

          <header class="jumbotron hero-spacer" ng-if="vm.showFunction">
            <h1>A Warm Welcome!</h1>
            <!-- {{vm.currentFunction.params}} -->
            <h2 class="napisDia">RESULT</h2>
            <h2 class="napisDia">{{vm.currentFunction.name}}(<span ng-repeat="matrix in vm.currentFunction.params">{{matrix.name}}{{ $last? '': ','; }}</span>) =
            </h2>
            <h2 align="center" ng-if="vm.currentFunction.result.type === 'double' || vm.currentFunction.result.type === 'int'">{{vm.currentFunction.result.values}}</h2>

            <div class="napisDia" ng-if="vm.currentFunction.result.type === 'matrix'">
              <div align="center">
                <table class="matrix">
                  <tr ng-repeat="row in vm.currentFunction.result.values track by $index">
                    <td ng-repeat="cell in row track by $index">{{cell}}</td>
                  </tr>
                </table>
              </div>
              <md-button ng-if="vm.isLogged" ng-click="vm.saveResultAsMatrix(vm.currentFunction.result)">save matrix</md-button>
            </div>

            <div class="napisDia" ng-if="vm.currentFunction.result.type === 'vector'">
              <div align="center">
                <table class="matrix">
                  <tr ng-repeat="row in vm.currentFunction.result.values track by $index">
                    <td>{{row}}</td>
                  </tr>
                </table>
              </div>
              <md-button ng-if="vm.isLogged" ng-click="vm.saveResultAsVector(vm.currentFunction.result)">save</md-button>
            </div>
            <md-divider></md-divider>

            <h2 class="napisDia">ARGUMENTS</h2>

            <div class="matrixLook" ng-repeat="matrix in vm.currentFunction.params">
              <h2 class="napisDia">
                <span>{{matrix.constantName}}</span>
              </h2>
              <div ng-if="matrix.type === 'matrix'">
                <div align="center">
                  <table class="matrix">
                    <tr ng-repeat="row in matrix.values track by $index">
                      <td ng-repeat="cell in row track by $index">{{cell}}</td>

                    </tr>
                  </table>
                </div>
              </div>

              <div ng-if="matrix.type === 'vector'">
                <div align="center">
                  <table class="matrix">
                    <tr ng-repeat="row in matrix.values track by $index">
                      <td>{{row}}</td>
                    </tr>
                  </table>
                </div>
              </div>

            </div>

          </header>
        </div>
        <div class="col-md-4 col-md-offset-4">
          <div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">
                  <i class="fa fa-long-arrow-right fa-fw"></i>
                  Matrices</h3>
                <md-button ng-if="vm.isLogged" ng-click="vm.saveMatricesToDB()">save</md-button>
              </div>
              <div class="panel-body">
                <div class="list-group">
                  <a class="list-group-item" ng-repeat="matrix in vm.userMatrices track by $index">
                    <i class="fa fa-fw fa-check"></i>
                    {{matrix.name}}
                    <div>Dimension:
                      {{matrix.values.length}}x{{matrix.values[0].length}}
                    </div>
                    <div layout="row" layout-align="space-around center">
                      <button class="hvr-buzz-out k" ng-click="vm.seeMatrix(matrix)">
                        <i class="material-icons md-15">visibility</i>
                      </button>
                      <button class="hvr-buzz-out k" ng-click="vm.editMatrix(matrix)">
                        <i class="material-icons md-15">edit</i>
                      </button>
                      <button class="hvr-buzz-out k" ng-click="vm.deleteMatrix(matrix.name)">
                        <i class="material-icons md-15">delete</i>
                      </button>
                    </div>
                  </a>
                </div>
                <div id="morris-donut-chart"></div>
                <div class="text-right">
                  <a ng-click="vm.openMatrixDialog($event)">
                    <i class="fa fa-th"></i>
                    create new matrix
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">
                  <i class="fa fa-long-arrow-right fa-fw"></i>
                  Vectors</h3>
                <md-button ng-if="vm.isLogged" ng-click="vm.saveVectorsToDB()">save</md-button>
              </div>
              <div class="panel-body">
                <div class="list-group">
                  <a class="list-group-item" ng-repeat="vector in vm.userVectors">
                    <i class="fa fa-fw fa-check"></i>
                    {{vector.name}}
                    <div>Dimension:
                      {{vector.dimension}}</div>
                    <div layout="row" layout-align="space-around center">
                      <button class="hvr-buzz-out k" ng-click="vm.seeVector(vector)">
                        <i class="material-icons md-15">visibility</i>
                      </button>
                      <button class="hvr-buzz-out k" ng-click="vm.editVector(vector)">
                        <i class="material-icons md-15">edit</i>
                      </button>
                      <button class="hvr-buzz-out k" ng-click="vm.deleteVector(vector.name)">
                        <i class="material-icons md-15">delete</i>
                      </button>
                    </div>
                  </a>
                </div>
                <div class="text-right">
                  <a ng-click="vm.openVectorDialog($event)">
                    <i class="fa fa-bars"></i>
                    create new vector
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- /.container-fluid -->

  </div>
  <!-- /#page-wrapper -->

</div>
<!-- /#wrapper -->
